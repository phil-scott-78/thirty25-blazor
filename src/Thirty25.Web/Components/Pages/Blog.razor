@page "/blog/{*fileName}"
@using BlazorStatic.Models
@using BlazorStatic.Services
@using Thirty25.Web.Components.Layout
@inject BlazorStaticContentService<FrontMatter> BlazorStaticContentService

@* Show specific post by filename param *@
@if (_post == null)
{
    <div>Post not found 🤷</div>
    return;
}

<BlogPost Post="_post"/>

@code{
    [Parameter] public required string FileName { get; init; }
    Post<FrontMatter>? _post;

    protected override void OnInitialized()
    {
        _post = BlazorStaticContentService.Posts.FirstOrDefault(x => x.Url == FileName);
    }
}
